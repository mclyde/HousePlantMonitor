{% extends "bootstrap/base.html" %}
{% import "bootstrap/wtf.html" as wtf %}
{% import "bootstrap/fixes.html" as fixes %}

{% block head %}
	{{super()}}
	{{fixes.ie8()}}
	<!-- CSS -->
	<link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.0/themes/smoothness/jquery-ui.css" />
	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css"</link>
	<link rel="stylesheet" href="{{url_for('static',filename='slider.css')}}">
	<link rel="stylesheet" href="{{url_for('static',filename='config.css')}}">
	<!-- JavaScript -->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.0/jquery-ui.js"></script>
	<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
	<script src="{{url_for('static',filename='bootstrap-slider.js')}}" type="text/javascript"></script>
	<script src="{{url_for('static',filename='config.js')}}" type="text/javascript"></script>
{% endblock %}

{% block title %}
	House Plant Monitor
{% endblock %}

{% block navbar %}
	<div class="navbar navbar-fixed-top">{% include "nav.html" %}</div>
{% endblock %}

{% block content %}
<div class="jumbotron">
	<div class="container">
        <h1>{{title}}</h1>
		{% for troop in troops %}
			<h2>{{troop.name}}</h2>
			{% for scout in troop.scouts %}
				<div id="scoutpins">
				<h3>{{scout.name}}</h3>
				<ul>
					{% for key,value in troopPins[troop.name][scout.name].items() %}
						<li>
							<span id="pin">{{ value['pin'] }} </span>
						{% if value['power'] == 'ACTIVE' %}
							<span id="power" class="label label-success">{{ value['power'] }} </span>
							{% if value['mode'] == 'INPUT' %}
							<span id="mode" class="label label-info">{{ value['mode'] }} </span>
							{% else %}
							<span id="mode" class="label label-warning">{{ value['mode'] }} </span>
							{% endif %}
							<span id="device">{{ value['device'] }}</span>
						{% else %}
							<span id="power" class="label label-danger">{{ value['power'] }} </span>
						{% endif %}
							<span id="configure">
								<button type="button" class="btn btn-default popover-dismiss" id="popover" data-toggle="popover">Configure</button>
								<div id="popover-head", class="hide">Device Configuration</div>
								<div id="popover-content" class="hide">
									<form role='form' class='form-horizontal' id='config-form'>
										<div class='form-group'>
											<label id='nameLabel' for='inputName' class='control-label col-xs-3'>Device Name:</label>
											<div class='col-xs-8'>
												<input type='text' class='form-control' id='deviceName' placeholder='Device name'>
											</div>
										</div>
										<div class='form-group'>
											<label id='typeLabel' for='inputType' class='control-label col-xs-3'>Device Type:</label>
											<div class='col-xs-8 dropdown'>
												<select class='deviceClass' id='deviceClass' name='deviceClass'>
													<option value='base' selected='selected'>---</option>
													<option value='inputs'>Input Device</option>
													<option value='outputs'>Output Device</option>
												</select>
												<select class='subset' id='subset' name='subset'>
												</select>
											</div>
										</div>
										<span id='inputMode'>
											<div class='form-group'>
												<div class='well'>Threshold:<input type='text' class='threshold' value='[20,30]', id='rangeSlider'></div>
											</div>
											<div class='form-group'>
												<label id='outputMethod' for='outputMethod' class='control-label col-xs-3'>Trigger:</label>
											</div>
										</span>
										<span id='outputMode'>
											<div class='form-group'>
												<label id='trigTime' for='trigTime' class='control-label col-xs-3'>Trigger Time:</label>
											</div>
											<div class='form-group'>
												<label id='untrigTime' for='untrigTime' class='control-label col-xs-3'>Untrigger Time:</label>
											</div>
											<div class='form-group'>
												<label id='untrigDelay' for='untrigDelay' class='control-label col-xs-3'>Delay:</label>
											</div>
										</span>
										<div class='form-group'>
											<div class='col-xs-offset-3 col-xs-8'>
												<button type='submit' class='btn btn-default'>Submit</button>
											</div>
										</div>
									</form>
								</div>
							</span>
						</li>
					{% endfor %}
				</ul>
				</div>
			{% endfor %}
		{% endfor %}
	</div>
</div>
{% endblock %}




