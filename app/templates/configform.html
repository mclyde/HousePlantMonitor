{% extends "bootstrap/base.html" %}
{% import "bootstrap/wtf.html" as wtf %}
{% import "bootstrap/fixes.html" as fixes %}

{% block head %}
	{{super()}}
	{{fixes.ie8()}}
	<meta charset="utf-8">
	<!-- CSS -->
	<link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.0/themes/smoothness/jquery-ui.css" />
	<link rel='stylesheet' href='//ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css'>
	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.css"</link>
	<link rel="stylesheet" href="{{url_for('static',filename='config.css')}}">
	<!-- JavaScript -->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.0/jquery-ui.js"></script>
	<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.js"></script>
	<script src="{{url_for('static',filename='config.js')}}" type="text/javascript"></script>
{% endblock %}

{% block title %}
	House Plant Monitor
{% endblock %}

{% block navbar %}
	<div class="navbar navbar-fixed-top">{% include "nav.html" %}</div>
{% endblock %}

{% block content %}
<div class="jumbotron">
	<div class="container">
		<h2>{{title}}</h2>
		<form role='form' class='form-horizontal' id='config-form' method='POST'>
			<input name=_csrf_token type=hidden value="{{ csrf_token() }}">
			<div class='form-group'>
				<label id='nameLabel' for='inputName' class='control-label col-xs-3'>Device Name:</label>
				<div class='col-xs-5'>
					<input type='text' class='form-control' id='deviceName' name='deviceName' placeholder='Enter a unique name for this device'>
				</div>
			</div>
			<div class='form-group'>
				<label id='typeLabel' for='inputType' class='control-label col-xs-3'>Device Type:</label>
				<div class='col-xs-8 dropdown'>
					<select class='deviceClass' id='deviceClass' name='deviceClass'>
						<option value='defaults' selected='selected'>---</option>
						<option value='inputs'>Input Device</option>
						<option value='outputs'>Output Device</option>
					</select>
					<select class='subset' id='subset' name='subset'>
						<option value='defaults'>---</option>
					</select>
				</div>
			</div>
			<span id='inputMode' class='inputMode'>
				<div class='form-group'>
					<label for="amount" class='control-label col-xs-3'>Threshold:</label>
					<div id="slider-range" class='col-xs-5'></div>
					<script>
						$( "#slider-range" ).slider({
							range: true,
							min: 0,
							max: 1023,
							values: [ 250, 750 ],
							slide: function( event, ui ) {
								$( "#amount" ).val( ui.values[ 0 ] + " - " + ui.values[ 1 ] );
							}
						});
					</script>
					<input type="text" id="amount" class='col-xs-2' name='threshold' readonly>
				</div>
				<div class='form-group'>
					<label id='outputMethod' for='outputMethod' class='control-label col-xs-3'>Trigger:</label>
					<div class='col-xs-8 dropdown'>
						<select class='triggerDevice' id='triggerDevice' name='triggerDevice'>
							<option value='email' selected='selected'>Email</option>
							<option value='text'>Text Message</option>
							<option value='tweet'>Tweet</option>
							<!-- TODO: Add handling for motor outputs -->
						</select>
					</div>
				</div>
			</span>
			<span id='outputMode' class='outputMode'>
				<div class='form-group'>
					<label id='trigTime' for='trigTime' class='control-label col-xs-3'>Trigger Time:</label>
					<div class='col-xs-4'>
						<input type='text' class='form-control' id='trigMilli' name='trigTime' placeholder='Time to run motor forward (milliseconds)'>
					</div>
				</div>
				<div class='form-group'>
					<label id='untrigTime' for='untrigTime' class='control-label col-xs-3'>Untrigger Time:</label>
					<div class='col-xs-4'>
						<input type='text' class='form-control' id='untrigMilli' name='untrigTime'placeholder='Time to run motor backward (milliseconds)'>
					</div>
				</div>
				<span id='delaytrigger' class='delaytrigger'>
					<div class='form-group'>
						<label id='untrigDelay' for='untrigDelay' class='control-label col-xs-3'>Delay:</label>
						<div class='col-xs-4'>
							<input type='text' class='form-control' id='delaySec' name='delay' placeholder='Delay between trigger and untrigger (seconds)'>
						</div>
					</div>
				</span>
			</span>
			<span id='submitbutton' class='submitbutton'>
				<div class='form-group'>
					<div class='col-xs-offset-3 col-xs-8'>
						<button type='submit' class='btn btn-default'>Submit</button>
					</div>
				</div>
			</span>
		</form>
	</div>
</div>
{% endblock %}



